(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{139:function(e,t,a){e.exports={chartWrapper:"chart_chartWrapper__1Oh77"}},167:function(e,t,a){},168:function(e,t,a){},305:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(70),s=a.n(n),o=(a(167),a(17)),u=a(98),j=a.n(u),i=(a(168),a(11)),l=new Date;l.setDate(l.getDate());var d=l.toISOString().substr(0,10);var b=function(e){var t=e.setFetchData,a=Object(r.useRef)(),c=Object(r.useRef)();return Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({date:a.current.value,country:c.current.value})},children:[Object(i.jsxs)("fieldset",{children:[Object(i.jsxs)("label",{children:["date",Object(i.jsx)("input",{ref:a,type:"date",defaultValue:d})]}),Object(i.jsxs)("label",{children:["country",Object(i.jsxs)("select",{ref:c,defaultValue:"DEU",list:"country",children:[Object(i.jsx)("option",{value:"POL",children:"Poland"}),Object(i.jsx)("option",{value:"DEU",children:"Germany"})]})]})]}),Object(i.jsx)("input",{type:"submit"})]})},h=a(158),O=a(307),f=a(154),p=a(155),x=a(61),y=a(58),v=a(157),m=a(139),g=a.n(m);var D=function(e){var t=e.results;console.log(t);for(var a=[],r=0,c=Object.entries(t);r<c.length;r++){var n=Object(o.a)(c[r],2),s=n[0],u=n[1],j=Object(h.a)({day:s},u);a.push(j)}return Object(i.jsxs)(O.a,{className:g.a.chartWrapper,width:600,height:300,data:a,children:[Object(i.jsx)(f.a,{dataKey:"day"}),Object(i.jsx)(p.a,{}),Object(i.jsx)(x.a,{}),Object(i.jsx)(y.a,{}),Object(i.jsx)(v.a,{dataKey:"deaths",fill:"#8884d8"}),Object(i.jsx)(v.a,{dataKey:"confirmed",fill:"#82ca9d"})]})},_=function(e,t){return{date:t.date,country:t.country}},w=function(e){var t=new Date(e),a=""+(t.getMonth()+1),r=""+t.getDate(),c=t.getFullYear();return a.length<2&&(a="0"+a),r.length<2&&(r="0"+r),[c,a,r].join("-")};var S=function(){var e=Object(r.useReducer)(_,{date:"",country:""}),t=Object(o.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)(null),s=Object(o.a)(n,2),u=s[0],l=s[1],d=Object(r.useState)(""),h=Object(o.a)(d,2),O=h[0],f=h[1];return Object(r.useEffect)((function(){var e=new Date(a.date);e.setMonth(e.getMonth()+1);var t=w(a.date),r=w(e);fetch(function(e,t,a){return"https://covidapi.info/api/v1/country/".concat(e,"/timeseries/").concat(t,"/").concat(a)}(a.country,t,r)).then((function(e){return e.json()})).then((function(e){return l(e.result)}),f("")).catch((function(e){console.error("Error:",e),f("".concat(e))}))}),[a]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h1",{className:j.a.mainHeader,children:"Covid chart"}),Object(i.jsx)(b,{setFetchData:c}),O&&Object(i.jsxs)("p",{className:j.a.error,children:[O,Object(i.jsx)("br",{}),"Make sure your ",Object(i.jsx)("i",{children:"date"})," it's month ago from today."]}),u&&Object(i.jsx)(D,{results:u})]})};s.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(S,{})}),document.getElementById("root"))},98:function(e,t,a){e.exports={mainHeader:"App_mainHeader__1s5y8",error:"App_error__Jtyit"}}},[[305,1,2]]]);
//# sourceMappingURL=main.426396c8.chunk.js.map